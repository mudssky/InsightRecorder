### 一、核心基础功能

这是软件的基石，必须稳定、高效。

1. **智能设备连接与检测**
   - **自动识别**：插入录音笔后，软件能自动检测并识别设备型号。
   - **手动连接**：支持手动选择文件夹或通过Wi-Fi/NFC（如果录音笔支持）连接。
   - **驱动处理**：对于常见录音笔品牌（如索尼、奥林巴斯、飞利浦等），应内置驱动或提供清晰指引。

2. **一键式录音文件导出**
   - **批量导出**：允许用户选择多个文件或一次性导出全部新文件，插入对应设备录音笔自动导出功能
   - **导出设置**：
     - **目标路径**：自定义导出到电脑的哪个文件夹。
     - **文件命名**：支持按日期、时间、主题等规则自动重命名文件，避免混乱的默认文件名。
     - **格式保留**：保持原始音频格式，或提供转换为通用格式（如MP3、WAV）的选项以节省空间。

3. **录音笔空间管理**
   - **容量显示**：清晰显示录音笔的已用空间和剩余空间。
   - **导出后操作**：提供“导出后自动删除录音笔文件”的选项，帮助用户一键清空录音笔，确保其随时可用。

### 二、核心整理与编辑功能

这是提升软件价值的关键，帮助用户从海量录音中理出头绪。

1. **音频文件管理与分类**
   - **文件列表与预览**：以列表形式展示所有导出的录音，支持按名称、日期、大小排序。
   - **标签系统**：允许用户为录音添加自定义标签（如“会议”、“访谈”、“灵感”）。
   - **文件夹/项目管理**：可以创建不同的项目或文件夹，将相关录音归类在一起。
   - **高级搜索**：支持按文件名、标签、日期甚至语音内容（如果集成了转写）进行全文搜索。

2. **内置音频播放器**
   - **基本控制**：播放、暂停、快进、快退、音量调节。
   - **关键功能**：
     - **变速播放**：在不失真的情况下调整播放速度，便于快速回顾。
     - **书签标记**：在录音的任何时间点打上书签，并添加文字备注，方便快速定位重点。
     - **波形图显示**：直观显示音频波形，便于识别有无声音段和高峰段。

3. **基础音频编辑**
   - **剪辑功能**：裁剪掉开头结尾的空白或无用的部分，生成新的音频片段。
   - **降噪与增强**：提供一键降噪、人声增强等基础音效处理，提升音频清晰度。

### 三、核心备份与同步功能

确保数据安全，防止丢失。

1. **本地与云端备份**
   - **本地备份规则**：设置自动备份到电脑指定硬盘或NAS。
   - **云端集成**：支持备份到主流云盘，如百度网盘、阿里云盘、OneDrive、Google Drive等。
   - **备份策略**：可选择“实时同步”或“按计划备份”。

2. **版本管理与安全**
   - **增量备份**：只备份新增或修改过的文件，节省时间和空间。
   - **回收站机制**：删除的文件先进入回收站，防止误删。

### 四、增值与高级功能

这些功能能极大地提升软件的竞争力和用户体验。

1. **AI语音转文字**
   - **核心价值**：将录音自动转为文字稿，这是录音整理中最高频、最痛苦的需求。
   - **高精度引擎**：集成优秀的语音识别引擎（如科大讯飞、阿里云等），支持中文、方言、专业术语。
   - **说话人分离**：能自动区分不同讲话者，并在文稿中标注“发言人A”、“发言人B”。
   - **时间戳对齐**：文字与音频时间点对应，点击文字可直接跳转到对应的录音位置。
   - **文稿编辑与导出**：提供完善的文本编辑器，用于校对和修改转写文稿，并支持导出为Word、PDF、TXT等格式。

2. **协同工作功能**
   - **项目分享**：将整个录音项目（含音频、文字稿、备注）生成链接分享给同事。
   - **协作编辑**：多人可在线共同校对同一份文字稿。

### 五、用户体验与设置

1. **界面设计**：界面简洁直观，操作流程符合逻辑。主界面可设计为三栏：左侧为设备/项目列表，中间为文件列表，右侧为播放/预览/编辑区。
2. **性能**：软件启动快，大文件加载和转写不卡顿。
3. **设置选项**：
   - 默认导出路径、备份路径设置。
   - 默认音频格式和质量设置。
   - 关联音频文件，双击即可用本软件打开。

---

### 功能总结表格

| 模块         | 核心功能             | 描述                                               |
| :----------- | :------------------- | :------------------------------------------------- |
| **设备管理** | 智能连接与导出       | 自动检测设备，一键导出并清空录音笔                 |
| **文件整理** | 标签与项目管理       | 用标签和文件夹对录音进行高效分类                   |
| **内容回顾** | 书签与波形图         | 快速定位录音重点，变速播放节省时间                 |
| **数据安全** | 本地与云端备份       | 自动同步到电脑或云盘，防止数据丢失                 |
| **核心增值** | **AI语音转文字**     | **将语音转为可编辑、可搜索的文字稿，极大提升效率** |
| **高级功能** | 说话人分离、协同编辑 | 区分不同讲话者，支持多人协作整理                   |

**开发建议：**

- **MVP（最小可行产品）**：先实现第一、二、三模块的核心功能，确保基础流程顺畅。
- **迭代开发**：将第四模块的AI转写等功能作为高级版或订阅制功能，逐步加入。
- **竞品分析**：可以参考“讯飞听见”、“搜狗录音助手”等成熟产品的功能设计，找到差异化竞争点（例如，更专注于特定行业、更优惠的价格、更简洁的界面等）。

这样一个软件将不再是简单的文件传输工具，而是一个完整的“个人知识库”或“工作流效率”中心，能真正解决用户的痛点。

### 技术栈

为满足上述功能并保证在 Windows 11 上的稳定性与可维护性，建议采用如下技术栈（按模块划分）：

1. 桌面框架与构建
   - Electron（主/渲染进程分离，启用 `contextIsolation`、`sandbox`）
   - `electron-builder`（Windows 使用 NSIS 生成安装包，支持代码签名）
   - `electron-updater`（自动更新）
   - 渲染构建：Vite；主进程打包：esbuild

2. 前端 UI 层
   - React 19
   - Ant Design 5
   - tanstack router
   - 状态管理：Zustand
   - 样式方案：Tailwind

3. 语言与代码质量
   - TypeScript（强类型提升可维护性）
   - ESLint + Prettier（统一代码风格与质量）
   - Commitlint + Husky + lint-staged（提交规范与预提交检查）

4. 数据与存储
   - SQLite + Prisma ORM（本地嵌入式数据库）
5. 设备与文件系统
   - `drivelist`（检测 U 盘/移动存储盘符）
   - `chokidar`（目录监听与新文件检测）
   - `fast-glob`（高性能文件扫描）
   - USB 层若需深度识别可选 `node-usb`（优先走“可移动磁盘”模式以简化流程）

6. 音频播放与编辑
   - `wavesurfer.js`（波形显示、书签/标记）
   - Web Audio API（变速播放、基础音量与滤波控制）
   - `ffmpeg-static` + `fluent-ffmpeg`（格式转换、裁剪、降噪：`afftdn`/`anlmdn`，静音去除：`silenceremove`，变速不变调）
   - `music-metadata`（音频元数据读取）

7. AI 转写与说话人分离
   - 本地：Whisper（whisper.cpp/whisper.js，WASM 方案便于离线）
   - 说话人分离：VAD+Diarization

8. 备份与同步
   - 本地/NAS 备份：Node `fs` + `node-cron`（定时任务）
   - 增量备份：基于文件指纹/时间戳策略
   - 压缩归档：`archiver`（zip）

9. 日志与监控
   - `electron-log`（应用运行日志）
   - Sentry Electron SDK（崩溃与性能监控）

10. 国际化与可访问性（暂时不需要）

- i18next + react-i18next（多语言支持）
- 遵循 WAI-ARIA 规范（基础可访问性）

11. 测试与发布

- 单元测试：Vitest
- 端到端测试：Playwright（Electron 模式）
- CI/CD：GitHub Actions（打包产物与自动发布）

12. 安全基线

- `contextIsolation: true`、`sandbox: true`（默认开启）
- 仅通过 `preload` 暴露白名单 API（`contextBridge`）
- 严格 IPC 通信（消息 schema 校验，主进程最小权限）
- 禁用 `remote` 模块；限制 `file://` 访问范围

13. 数据模型与索引建议

- Prisma Schema：录音、标签、项目、书签、转写片段（含时间戳）等表
- FTS5 为转写文本建立索引，支持关键词高亮与时间点跳转

14. 架构辅助与并发

- 事件总线：`tiny-emitter`（跨组件事件）
- 任务队列：`p-queue`（导出/转码并发控制与重试）

15. 可选后端扩展（协作/分享场景）

- 轻量服务：Node/NestJS；鉴权：JWT；短链与文件签名服务
